function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/t(require("bull"));function e(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r)}function o(t,r){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},o(t,r)}var n,s=/*#__PURE__*/function(){function t(t){this.dbUrl=void 0,this.dbPort=void 0,this.dbPassword="",this.dbUrl=t.dbUrl,this.dbPort=t.dbPort,t.password&&(this.dbPassword=t.password)}return t.prototype.initializeQueue=function(t){return new r.default(t,{redis:{port:this.dbPort,host:this.dbUrl,password:this.dbPassword}})},t}(),i=/*#__PURE__*/function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.createQueue=function(t){return new r.default(t,{redis:{port:this.dbPort,host:this.dbUrl,password:this.dbPassword}})},n.addTaskToQueue=function(t,r,e,o){t.add(r,o),t.process(function(t){try{return Promise.resolve(function(r,o){try{var n=Promise.resolve(e(t.data))}catch(t){return o()}return n&&n.then?n.then(void 0,o):n}(0,function(){return Promise.reject(new Error("Some error happened"))}))}catch(t){return Promise.reject(t)}}),console.log("task done")},o}(s),u=/*#__PURE__*/function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r}(s);n=u,[i].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})}),module.exports=u;
