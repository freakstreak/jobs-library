import r from"bull";class t{constructor(r){this.dbUrl=void 0,this.dbPort=void 0,this.dbPassword="",this.dbUrl=r.dbUrl,this.dbPort=r.dbPort,r.password&&(this.dbPassword=r.password)}initializeQueue(t){return new r(t,{redis:{port:this.dbPort,host:this.dbUrl,password:this.dbPassword}})}}class s extends t{}var e;e=s,[class extends t{createQueue(t){return new r(t,{redis:{port:this.dbPort,host:this.dbUrl,password:this.dbPassword}})}addTaskToQueue(r,t,s,e){r.add(t,e),r.process(async function(r){try{return await s(r.data)}catch(r){return Promise.reject(new Error("Some error happened"))}}),console.log("task done")}}].forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(t=>{Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t))})});export{s as default};
